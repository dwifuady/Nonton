@page "/"
@using Nonton.Services

@inject ICatalogService CatalogService

<PageTitle>Discover</PageTitle>

<MudGrid Spacing="1" Justify="Justify.FlexStart">
    @if (DiscoverResult?.Metas is not null)
    {
        foreach (var meta in DiscoverResult.Metas)
        {
            <ContentItem Meta="meta"></ContentItem>
        }
    }
</MudGrid>

@code {
    public Discover? DiscoverResult { get; set; }

    protected override async Task OnInitializedAsync()
    {
        DiscoverResult = await CatalogService.GetMovieCatalogDefault();
        StateHasChanged();
    }
}